<!DOCTYPE html>
<!--suppress ALL -->
<html>
<head>
    <meta charset="utf-8">
    <title>Ordina JWorks Tech Blog</title>
    <!-- Description, Keywords and Author -->
    <meta name="description" content="Ordina JWorks Tech blog
">
    <meta name="keywords" content="Ordina,ORAJ,JWorks,Blog,Java,Javascript,DevOps">
    <meta name="author" content="Ordina Belgium">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Styles -->
    <!-- Bootstrap CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font awesome CSS -->
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <!-- Magnific Popup -->
    <link href="/css/magnific-popup.css" rel="stylesheet">
    <!-- Owl carousel -->
    <link href="/css/owl.carousel.css" rel="stylesheet">

    <!-- CSS for this page -->

    <!-- Base style -->
    <link href="/css/styles/style.css" rel="stylesheet">
    <!-- Skin CSS -->
    <link href="/css/styles/skin-orange.css" rel="stylesheet" id="color_theme">

    <!-- Syntax highlighting -->
    <link href="/css/syntax.css" rel="stylesheet">

    <!-- Custom CSS. Type your CSS code in custom.css file -->
    <link href="/css/custom.css" rel="stylesheet">

    <!-- Favicon -->
    <link rel="shortcut icon" href="#">

    <script src="https://use.typekit.net/gzh0mbm.js"></script>
    <script>
        try {
            Typekit.load({async: true});
        } catch (e) {
        }
    </script>
</head>

<!-- Add class "boxed" along with body for boxed layout. -->
<!-- Add "pattern-x" (1 to 5) for background patterns. -->
<!-- Add "img-x" (1 to 5) for background images. -->
<body>

<!-- Outer Starts -->
<div class="outer">
    <!-- Header two Starts -->
    <div class="header-2">

        <!-- Container -->
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <div class="logo">
                        <h1><a href="/"><img src="/img/jworks/jworks-400x400.jpg"
                                                               width="100"
                                                               height="100"/> </a></h1>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="navy">
                        <ul>
                            <li><a href="/">Home</a></li>
                            <li><a href="/about/">About Us</a></li>
                            <li><a href="/contact">Contact Us</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Header two ends -->

    <!-- Main content starts -->

    <div class="main-block">

        <!-- Page heading two starts -->

        <div class="page-heading-two">
            <div class="container">
                <h2>JWorks Tech Blogs<span style="margin-left: 10px"> Powered by Ordina</span></h2>

                <div class="clearfix"></div>
            </div>
        </div>

        <!-- Page heading two ends -->

        <div class="container tk-acumin-pro">
            <div class="post">
    
    <div class="row">
        <div class="col-md-12">
            <h1>AngularTS: A new look @ Angular</h1>
            <p id="post-meta">
                Posted Mar 16, 2016 in <a href="/categories/angularjs-typescript/">AngularJS-TypeScript</a> by <a href="/author/kevin-van-houtte/">Kevin Van Houtte</a> 
                
                    <br />
                    <i class="fa fa-tags"></i>
                        
                            <a href="/tags/typescript/">TypeScript</a>,
                        
                            <a href="/tags/angularjs/">AngularJS</a>
                        
                
            </p>
        </div>
    </div>
    <br />
    <article class="post-content">
        <h2 id="combining-the-best-of-two-worlds">Combining the best of two worlds.</h2>

<p>Since my introduction to the heroic AngularJS framework at Devoxx around 4 years ago, I was intrigued and set for an adventure.
With the upcoming release of Angular 2 we have to prepare ourselves with the migrating road map coming up.
One of the core changes in Angular 2 is the focus on using TypeScript.
This post will cover the use of Angular components in TypeScript.
But what is it?
TypeScript is a superset of JavaScript that focuses on strong typing and new ES6 features: classes, interfaces and modules.
Like in common object-oriented languages such as Java and C# these features aren’t new.
These features give the developer the opportunity to build an object-oriented architecture in JavaScript.
With that in mind, let’s see what the advantages are:</p>

<h3 id="transpiling">Transpiling</h3>
<p>The DOM can only recognize JavaScript.
With this said they had to come up with a way to compile TS (TypeScript).
Because TS is a superset of JS it can transpile to plain JavaScript before including it into HTML.
Transpilers are integrated in the latest IDE’s. 
Any valid JavaScript is valid TypeScript.</p>

<h3 id="strongly-typed">Strongly typed</h3>
<p>When you’re used to plain JavaScript, you notice that every time you need a variable, it is loosely typed.
TypeScript gives you the opportunity for each of your variables to have its own type.
This comes with great benefits like better refactoring, less bugs and better type checking at compile time.</p>

<h3 id="oo-architecture">OO architecture</h3>
<p>TypeScript offers an object-oriented architecture experience, which means all code is defined in classes, interfaces and most of those classes can be instantiated into objects. It also supports encapsulation, which protects the data from unintended access and modification.</p>

<h2 id="learning-path-of-angularts">Learning path of AngularTS</h2>
<p>If you’re no stranger to AngularJS you will notice that the structure remains the same. 
Two way data binding, controllers, services, … 
But be aware that it has a different syntax in TypeScript. 
I will show you the different best practices to implement such components.</p>

<h2 id="typescript-definition-files">TypeScript Definition Files</h2>
<p>When using TS we will refer to TSD files.
These files describe the types defined in external libraries such as Angular. 
To install the Angular TSD files we use typings.
To use the typings manager we install it with:</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">npm install typings --global</code></pre></figure>

<p>Afterwards install Angular with:</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">typings install angular --ambient --save</code></pre></figure>

<p><code class="highlighter-rouge">--ambient --save</code> enables the flag and persists the selection in ‘typings.json’</p>

<p>All the installed TSD files are gathered in the typings folder.
In the main.d.ts file you will see the references the application will use for Angular.
Since Angular has multiple libraries, you can use the search command to find the required definition.</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">typings search Angular</code></pre></figure>

<p>It is possible that you have to declare the reference on top of your file.</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">/// &lt;reference path="../../typings/main.d.ts" /&gt;</code></pre></figure>

<h2 id="modules">Modules</h2>

<h3 id="angular-modules">Angular Modules</h3>
<p>Modules are here to help us modularize our code.
It is a best practice to use one main module as the root of your application. 
Multiple modules are being used for third-party libraries or common code.
To let the module know the existence of every component, they have to register themselves.
Below every component declaration you will see a registration to the module. 
When registering the module you have to add all the libraries you want to depend upon.
In this example we inject the routing service for navigation.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">module</span> <span class="nx">JWorks</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>

    <span class="nx">angular</span>
       <span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s2">"jworks360"</span><span class="p">,</span> <span class="p">[</span><span class="s1">'ngRoute'</span><span class="p">])</span>
<span class="p">}</span></code></pre></figure>

<h3 id="internal-typescript-modules">Internal TypeScript Modules</h3>
<p>These modules are similar to namespaces.
You can define an unique namespace around your code.
This will encapsulate variables, interfaces and classes. 
TypeScript supports sub namespaces for further encapsulation.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">module</span> <span class="nx">JWorks</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<h4 id="transpiled-javascript">Transpiled JavaScript</h4>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">JWorks</span><span class="p">;</span>
<span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">JWorks</span><span class="p">){</span>

<span class="p">})(</span><span class="nx">JWorks</span> <span class="o">||</span> <span class="p">(</span><span class="nx">JWorks</span> <span class="o">=</span> <span class="p">{}));</span></code></pre></figure>

<p>To encapsulate our code, the module will transpile to an IIFE (Immediately-Invoked Function Expression) around our components.
This will avoid global code which helps prevent variables and function declarations from living longer than expected in the global scope, which also helps avoid variable collisions.</p>

<h2 id="entity-class">Entity Class</h2>
<p>Now that TypeScript supports object-oriented programming, we can analyse our business problem and define the business objects into entity classes.
When you analyse and define these entities you can define which properties and methods each entity needs.
If you have a couple entities, you can even establish a relationship.
This will provide a clear view on what you want to achieve and have the possibility to create multiple instances of these classes. 
When building an entity class you can optionally define an interface to show what the intention of the class is.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">module</span> <span class="nx">JWorks</span> <span class="p">{</span>

    <span class="kr">export</span> <span class="kr">interface</span> <span class="nx">IEmployee</span> <span class="p">{</span>
         <span class="nl">username</span><span class="p">:</span><span class="nx">string</span><span class="p">;</span>
         <span class="nl">name</span><span class="p">:</span><span class="nx">string</span><span class="p">;</span>
         <span class="nx">eat</span><span class="p">(</span><span class="nx">food</span><span class="err">:</span><span class="nx">string</span><span class="p">)</span><span class="err">:</span><span class="k">void</span>
    <span class="p">}</span>

    <span class="kr">export</span> <span class="kr">class</span> <span class="nx">Employee</span> <span class="kr">implements</span> <span class="nx">IEmployee</span> <span class="p">{</span>
 
          <span class="nx">constructor</span><span class="p">(</span><span class="kr">public</span> <span class="nx">username</span><span class="err">:</span><span class="nx">string</span><span class="p">,</span> <span class="kr">public</span> <span class="nx">name</span><span class="err">:</span><span class="nx">string</span><span class="p">){}</span>

          <span class="nx">eat</span><span class="p">(</span><span class="nx">food</span><span class="err">:</span><span class="nx">string</span><span class="p">)</span><span class="err">:</span><span class="k">void</span><span class="p">{</span>
             <span class="c1">//implementation</span>
          <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>To use your entity class in a controller you have to define the export key.
This will expose the class to other classes.
When exporting the interface you will use it as a data type.</p>

<h3 id="class-as-property">Class as property</h3>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">Employee</span><span class="err">:</span><span class="nx">IEmployee</span><span class="p">;</span></code></pre></figure>

<h3 id="instance-of-the-class">Instance of the class</h3>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">employee</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Employee</span><span class="p">();</span></code></pre></figure>

<h3 id="access-property">Access property</h3>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">employee</span><span class="p">.</span><span class="nx">name</span></code></pre></figure>

<h3 id="call-methods">Call methods</h3>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">employee</span><span class="p">.</span><span class="nx">eat</span><span class="p">(</span><span class="nx">eggs</span><span class="p">);</span></code></pre></figure>

<h2 id="controllers">Controllers</h2>
<p>As you know the controller defines the model to the view of your application, methods for every action you require and the scope where you hold a two way binding.
Because TS offers an object-oriented architecture, we can use classes and interfaces instead of functions.
Interfaces, like in all object-oriented languages, are a contract that must be implemented by classes that use it.
When implemented, all methods and properties have to be used.
Classes declare and implement the properties and methods exposed to the view.
Every class has his own constructor function, in this function we can declare default property values and other initialisation code.</p>

<h3 id="controller-interface">Controller Interface</h3>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">module</span> <span class="nx">Jworks</span> <span class="p">{</span>

    <span class="kr">interface</span> <span class="nx">IEmployeeController</span><span class="p">{</span>
        <span class="nl">person</span><span class="p">:</span><span class="nx">IPerson</span><span class="p">;</span>
        <span class="nx">save</span><span class="p">(</span><span class="nx">person</span><span class="err">:</span><span class="nx">IPerson</span><span class="p">)</span><span class="err">:</span><span class="k">void</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>The interface will show you the intent of our controller and declare the properties and methods that will be used.
When you look at the syntax, you see that the properties are strongly typed and the type is declared after the colon.
If you aren’t certain what type a property should have, you can fall back to the general type ‘any’.
When you declare methods in an interface you have to specify the necessary parameters and return types.
The parameters have the same syntax as the properties.</p>

<h3 id="controller-class">Controller Class</h3>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">module</span> <span class="nx">JWorks</span> <span class="p">{</span>

    <span class="kr">class</span> <span class="nx">EmployeeController</span> <span class="kr">implements</span> <span class="nx">IEmployeeController</span><span class="p">{</span>

        <span class="kr">static</span> <span class="nx">$inject</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"EmployeeService"</span><span class="p">];</span>

        <span class="nx">constructor</span><span class="p">(</span><span class="kr">private</span> <span class="nx">employeeService</span><span class="err">:</span><span class="nx">IEmployeeService</span><span class="p">,</span><span class="kr">public</span> <span class="nx">employee</span><span class="err">:</span><span class="nx">IEmployee</span><span class="p">){</span>
             <span class="k">this</span><span class="p">.</span><span class="nx">employee</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Employee</span><span class="p">(</span><span class="s2">"Nivek"</span><span class="p">,</span><span class="s2">"Kevin"</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">save</span><span class="p">()</span><span class="err">:</span><span class="k">void</span><span class="p">{</span>
             <span class="k">this</span><span class="p">.</span><span class="nx">employeeService</span><span class="p">.</span><span class="nx">addEmployee</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">employee</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">){</span>
             <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"added successfully!"</span><span class="p">);</span>
        <span class="p">});</span>
   <span class="p">}</span>

<span class="p">}</span>
<span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s2">"jworks360"</span><span class="p">)</span>
<span class="p">.</span><span class="nx">controller</span><span class="p">(</span><span class="s2">"EmployeeController"</span><span class="p">,</span> <span class="nx">EmployeeController</span><span class="p">);</span></code></pre></figure>

<h3 id="dependency-injection-in-classes">Dependency Injection in classes</h3>
<p>When a service is needed in your controller, it must to be injected before it can be used.
In the above example it is important that you declare the <code class="highlighter-rouge">static $injection</code> on top of your constructor.
By doing this the constructor will recognize and initialise the injected services.
If you inject a custom service you have to reference to the related service.</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">/// &lt;reference path="../services/employee.service.ts"/&gt;</code></pre></figure>

<h3 id="constructor">Constructor</h3>
<p>TypeScript supports initialisation of your properties and injections in a constructor.
When declaring properties in your class, you can declare them directly into your constructor.
Although <em>these two examples are</em> correct you can have issues in your tests with the second example.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">//So this:</span>
<span class="kr">class</span> <span class="nx">Controller</span> <span class="p">{</span>

    <span class="nl">name</span><span class="p">:</span><span class="nx">string</span><span class="p">;</span>

    <span class="nx">constructor</span><span class="p">(</span><span class="kr">public</span> <span class="nx">name</span><span class="err">:</span><span class="nx">string</span><span class="p">){</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="o">=</span><span class="nx">name</span><span class="p">;</span>

    <span class="p">}</span>

<span class="p">}</span>
<span class="c1">//Becomes:</span>
<span class="kr">class</span> <span class="nx">Controller</span> <span class="p">{</span>

    <span class="nx">constructor</span><span class="p">(</span><span class="kr">public</span> <span class="nx">name</span><span class="err">:</span><span class="nx">string</span><span class="p">){</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>Be sure to notice that we are using access modifiers to tell the controller which properties we want to expose to the view.
The best practice is that you put your injections and Angular services private and all your properties you want to use on your view public.
When initialising strings, TypeScript makes no distinction between double or single quotes.</p>

<h3 id="controlleras">ControllerAs</h3>

<p>Controller classes use the controllerAs feature by default.
So it’s important to declare this into your routes and views.
In your HTML you will have to prefix your methods and properties with the ControllerAs syntax.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">module</span> <span class="nx">JWorks</span> <span class="p">{</span>
   <span class="s2">"use strict"</span><span class="p">;</span>

   <span class="kd">function</span> <span class="nx">routes</span><span class="p">(</span><span class="nx">$routeProvider</span><span class="p">)</span> <span class="p">{</span>

       <span class="nx">$routeProvider</span>
           <span class="p">.</span><span class="nx">when</span><span class="p">(</span><span class="s1">'/'</span><span class="p">,</span> <span class="p">{</span>
               <span class="na">redirectTo</span><span class="p">:</span> <span class="s1">'/login'</span>
           <span class="p">})</span>
           <span class="p">.</span><span class="nx">when</span><span class="p">(</span><span class="s1">'/profile'</span><span class="p">,</span> <span class="p">{</span>
               <span class="na">templateUrl</span><span class="p">:</span> <span class="s1">'app/persons/profile.html'</span><span class="p">,</span>
               <span class="na">controller</span><span class="p">:</span> <span class="s1">'EmployeeController'</span><span class="p">,</span>
               <span class="na">controllerAs</span><span class="p">:</span> <span class="s1">'$profile'</span><span class="p">,</span>
           <span class="p">})</span>
           <span class="p">.</span><span class="nx">otherwise</span><span class="p">({</span>
               <span class="na">redirectTo</span><span class="p">:</span> <span class="s1">'/'</span>
           <span class="p">});</span>
   <span class="p">}</span>
   <span class="nx">routes</span><span class="p">.</span><span class="nx">$inject</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"$routeProvider"</span><span class="p">];</span>

   <span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s2">"jworks360"</span><span class="p">)</span>
       <span class="p">.</span><span class="nx">config</span><span class="p">(</span><span class="nx">routes</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<h2 id="services">Services</h2>
<p>When you make a custom service, the code you implement is reusable and can be called in any other Angular component, including controllers and other services.
It is important to know that services are singletons, so there will be only one instance for each service.
With this in mind we can use the custom service to share data across all components in Angular.
Communicating with an HTTP service to collect and share data with any other component by injecting the service.</p>

<h3 id="restangular">Restangular</h3>
<p>For my project I used an Angular service that simplifies common verb requests with a minimum of client code.
In my custom services you’ll see examples of Restangular in TypeScript.
If you like to checkout what the difference is with $resource, you can check this <a href="https://github.com/mgonto/restAngular#differences-with-resource">list</a></p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">module</span> <span class="nx">JWorks</span> <span class="p">{</span>

   <span class="kr">export</span> <span class="kr">interface</span> <span class="nx">IEmployeeService</span> <span class="p">{</span>
       <span class="nl">username</span><span class="p">:</span><span class="nx">string</span><span class="p">;</span>
       <span class="nl">employee</span><span class="p">:</span><span class="nx">IEmployee</span><span class="p">;</span>

       <span class="nx">getEmployee</span><span class="p">()</span><span class="err">:</span> <span class="nx">Employee</span><span class="p">;</span>
       <span class="nx">setEmployee</span><span class="p">(</span><span class="nx">employee</span><span class="err">:</span><span class="nx">IEmployee</span><span class="p">);</span>
       <span class="nx">getEmployeeByUsername</span><span class="p">(</span><span class="nx">username</span><span class="err">:</span><span class="nx">string</span><span class="p">)</span><span class="err">:</span><span class="nx">ng</span><span class="p">.</span><span class="nx">IPromise</span><span class="o">&lt;</span><span class="p">{}</span><span class="o">&gt;</span><span class="p">;</span>
       <span class="nx">getEmployeeByLink</span><span class="p">(</span><span class="nx">href</span><span class="err">:</span><span class="nx">string</span><span class="p">)</span><span class="err">:</span><span class="nx">ng</span><span class="p">.</span><span class="nx">IPromise</span><span class="o">&lt;</span><span class="p">{}</span><span class="o">&gt;</span><span class="p">;</span>
   <span class="p">}</span>

   <span class="kr">export</span> <span class="kr">class</span> <span class="nx">EmployeeService</span> <span class="kr">implements</span> <span class="nx">IEmployeeService</span> <span class="p">{</span>

       <span class="kr">static</span> <span class="nx">$inject</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"EmployeeRestangular"</span><span class="p">,</span> <span class="s2">"$location"</span><span class="p">];</span>

       <span class="nx">constructor</span><span class="p">(</span><span class="kr">private</span> <span class="nx">employeeRestService</span><span class="err">:</span><span class="nx">restAngular</span><span class="p">.</span><span class="nx">IService</span><span class="p">,</span> <span class="kr">private</span> <span class="nx">$location</span><span class="err">:</span><span class="nx">ng</span><span class="p">.</span><span class="nx">ILocationService</span><span class="p">,</span> <span class="kr">private</span> <span class="nx">employees</span><span class="err">:</span><span class="nx">restAngular</span><span class="p">.</span><span class="nx">IElement</span><span class="p">,</span><span class="kr">public</span> <span class="nx">employee</span><span class="err">:</span><span class="nx">IEmployee</span><span class="p">,</span><span class="kr">public</span> <span class="nx">username</span><span class="err">:</span><span class="nx">string</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">username</span> <span class="o">=</span><span class="nb">window</span><span class="p">.</span><span class="nx">sessionStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="s2">"username"</span><span class="p">);</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">employees</span> <span class="o">=</span> <span class="nx">employeeRestService</span><span class="p">.</span><span class="nx">all</span><span class="p">(</span><span class="s2">"employees"</span><span class="p">);</span>
            <span class="nx">employees</span><span class="p">.</span><span class="nx">one</span><span class="p">(</span><span class="nx">username</span><span class="p">).</span><span class="nx">get</span><span class="p">().</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="err">:</span><span class="nx">any</span><span class="p">)</span><span class="o">=&gt;</span> <span class="p">{</span>
                   <span class="k">this</span><span class="p">.</span><span class="nx">setEmployee</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
               <span class="p">});</span>
           <span class="p">}</span>
       <span class="p">}</span>
       <span class="nx">getEmployee</span><span class="p">():</span><span class="nx">Employee</span> <span class="p">{</span>
           <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">employee</span><span class="p">;</span>
       <span class="p">}</span>
       
       <span class="nx">setEmployee</span><span class="p">(</span><span class="na">employee</span><span class="p">:</span><span class="nx">IEmployee</span><span class="p">)</span> <span class="p">{</span>
           <span class="k">this</span><span class="p">.</span><span class="nx">employee</span> <span class="o">=</span> <span class="nx">employee</span><span class="p">;</span>
       <span class="p">}</span>
             
       <span class="nx">getEmployeeByUsername</span><span class="p">(</span><span class="na">username</span><span class="p">:</span><span class="nx">string</span><span class="p">):</span><span class="nx">ng</span><span class="p">.</span><span class="nx">IPromise</span><span class="o">&lt;</span><span class="p">{}</span><span class="o">&gt;</span> 
           <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">employees</span><span class="p">.</span><span class="nx">one</span><span class="p">(</span><span class="nx">username</span><span class="p">).</span><span class="nx">get</span><span class="p">()</span>
       <span class="p">}</span>

       <span class="nx">getEmployeeByLink</span><span class="p">(</span><span class="nx">href</span><span class="err">:</span><span class="nx">string</span><span class="p">)</span><span class="err">:</span><span class="nx">ng</span><span class="p">.</span><span class="nx">IPromise</span><span class="o">&lt;</span><span class="p">{}</span><span class="o">&gt;</span><span class="p">{</span>
           <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">employees</span><span class="p">.</span><span class="nx">oneUrl</span><span class="p">(</span><span class="nx">href</span><span class="p">).</span><span class="nx">get</span><span class="p">();</span>
       <span class="p">}</span>       
   <span class="p">}</span>
          <span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s2">"jworks360"</span><span class="p">)</span>
              <span class="p">.</span><span class="nx">service</span><span class="p">(</span><span class="s2">"EmployeeService"</span><span class="p">,</span> <span class="nx">EmployeeService</span><span class="p">);</span>       
<span class="p">}</span></code></pre></figure>

<p>In the above example, to use the Restangular service you have to install the proper typings.
For services it is a best practice to declare an interface for data typing and getting a clear view of the intent.
The service class will implement all methods related to the data communication with the backend and returns a promise to the controllers or services that will inject this custom service.
Restangular has its own configuration you can modify in the .config component to point to the right api call.
After the config you can inject the Restangular service and use its services to build up a request to the backend.</p>

<h2 id="directives">Directives</h2>
<p>Custom directives allow you to create highly semantic and reusable components.
A directive allows Angular to manipulate the DOM and add its own behaviour. 
These can either be a set of instructions or a JSON representation.
To define a directive in TypeScript we use the directive service <strong>that Angular</strong> provides.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">module</span> <span class="nx">JWorks</span> <span class="p">{</span>

   <span class="kr">export</span> <span class="kr">interface</span> <span class="nx">IAnimate</span> <span class="kr">extends</span> <span class="nx">ng</span><span class="p">.</span><span class="nx">IAttributes</span> <span class="p">{</span>
       <span class="nl">jwAnimate</span><span class="p">:</span><span class="nx">string</span><span class="p">;</span>
   <span class="p">}</span>

   <span class="kr">class</span> <span class="nx">Animate</span> <span class="kr">implements</span> <span class="nx">ng</span><span class="p">.</span><span class="nx">IDirective</span> <span class="p">{</span>

       <span class="nx">restrict</span> <span class="o">=</span> <span class="s2">"A"</span><span class="p">;</span>

       <span class="kr">static</span> <span class="nx">instance</span><span class="p">()</span><span class="err">:</span><span class="nx">ng</span><span class="p">.</span><span class="nx">IDirective</span> <span class="p">{</span>
           <span class="k">return</span> <span class="k">new</span> <span class="nx">Animate</span><span class="p">();</span>
       <span class="p">}</span>

       <span class="nx">link</span><span class="p">(</span><span class="nx">$scope</span><span class="p">,</span> <span class="nx">elm</span><span class="err">:</span><span class="nx">ng</span><span class="p">.</span><span class="nx">IRootElementService</span><span class="p">,</span> <span class="nx">attr</span><span class="err">:</span><span class="nx">IAnimate</span><span class="p">,</span><span class="nx">ngModel</span><span class="err">:</span><span class="nx">ng</span><span class="p">.</span><span class="nx">INgModelController</span><span class="p">)</span><span class="err">:</span><span class="k">void</span> <span class="p">{</span>

           <span class="nx">$scope</span><span class="p">.</span><span class="nx">right</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
               <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">animate</span><span class="p">({</span>
                   <span class="na">left</span><span class="p">:</span> <span class="s1">'+=150'</span>
               <span class="p">});</span>
                <span class="nx">elm</span><span class="p">.</span><span class="nx">fadeOut</span><span class="p">(</span><span class="s2">"slow"</span><span class="p">);</span>
           <span class="p">};</span>
           <span class="kd">var</span> <span class="nx">direction</span> <span class="o">=</span> <span class="nx">attr</span><span class="p">[</span><span class="s1">'jwAnimate'</span><span class="p">];</span>
           <span class="nx">elm</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'click'</span><span class="p">,</span><span class="nx">$scope</span><span class="p">[</span><span class="nx">direction</span><span class="p">]);</span>

       <span class="p">}</span>

   <span class="p">}</span>
   <span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s2">"jworks360"</span><span class="p">).</span><span class="nx">directive</span><span class="p">(</span><span class="s2">"jwAnimate"</span><span class="p">,</span> <span class="nx">Animate</span><span class="p">.</span><span class="nx">instance</span><span class="p">);</span>

<span class="p">}</span></code></pre></figure>

<p>In the interface above we have to tell Angular what name will be used for our directive.
The attribute service will be called to add the name to its attributes.
Secondly the class has to implement the directive interface to be recognized by the compiler as a directive.
Inside the class you have to declare the prefixed properties and override the methods you will be using.
The <code class="highlighter-rouge">static instance()</code> method has to be declared to let your module know that there is a new directive.
At the end you register the directive to your module with the instance as value.</p>

<h2 id="final-note">Final note</h2>

<p>Best practices can change over time. 
With webpack for example the registry to the module is contained in one file.
TypeScript keeps on growing, and in my opinion <strong>will be the default language for many future front-end projects.</strong>
When it comes to testing our code, TypeScript will provide better support because of encapsulation. 
Finally, this is a nice learning path to take if you want to migrate to Angular 2.</p>

    </article>
    <hr />
    <blockquote>
        
            <p>Kevin Van Houtte is a Software Engineer at Ordina Belgium. Passionate in the Spring ecosystem and Angular framework Kevin is eager to discover new and efficient ways to solve problems. He enjoys a good challenge and is interested in cutting edge technologies. Currently he works on a project with Microservices, Spring and Angular/TypeScript.</p>

        
    </blockquote>
    
        <br /><br />
        <div id="disqus_thread"></div>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    
</div>
        </div>
    </div>
    <!-- Main content ends -->
</div>
<!-- Footer Starts -->
<footer class="footer">
    <!-- Container -->
    <div class="container">
        <!-- Foot Starts -->
        <div class="foot">
            <!-- Container -->
            <div class="container">
                <div class="row">
                    <div class="col-md-4 col-sm-6">
                        <!-- Foot Item -->
                        <div class="foot-item">
                            <!-- Heading -->
                            <h5 class="bold"><i class="fa fa-user"></i>&nbsp;&nbsp;Disclaimer</h5>

                            <p>Opinions expressed on this blog reflect the writer’s views and not the position of
                                Ordina.</p>

                            <div class="brand-bg">
                                <a target="_blank" href="https://www.facebook.com/lifeatordinabe" class="facebook"><i
                                        class="fa fa-facebook circle-3"></i></a>
                                <a target="_blank" href="https://twitter.com/lifeatordinabe"
                                   class="twitter"><i
                                        class="fa fa-twitter circle-3"></i></a>
                                <a target="_blank" href="https://www.linkedin.com/company/ordina-belgium"
                                   class="linkedin"><i
                                        class="fa fa-linkedin circle-3"></i></a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 col-sm-6">
                        <!-- Foot Item -->
                        <div class="foot-item">
                            <!-- Heading -->
                            <h5 class="bold"><i class="fa fa-comments"></i>&nbsp;&nbsp;Recent Posts</h5>
                            <!-- Foot Item Content -->
                            <div class="foot-item-content">
                                <ul class="list-unstyled">
                                    
                                    <li>
                                        <span>31 Mar 2016</span> &raquo;
                                        <a href="/ionic/2016/03/31/Adding-TypeScript-to-Ionic-Framework.html">
                                            Adding TypeScript to Ionic Framework</a>
                                    </li>
                                    
                                    <li>
                                        <span>16 Mar 2016</span> &raquo;
                                        <a href="/angularjs-typescript/2016/03/16/AngularTS.html">
                                            AngularTS: A new look @ Angular</a>
                                    </li>
                                    
                                    <li>
                                        <span>12 Mar 2016</span> &raquo;
                                        <a href="/security/2016/03/12/Digitally-signing-your-JSON-documents.html">
                                            Digitally signing your JSON documents</a>
                                    </li>
                                    
                                    <li>
                                        <span>10 Mar 2016</span> &raquo;
                                        <a href="/conferences/2016/03/10/JavaLand2016.html">
                                            The 5 key trends of JavaLand 2016</a>
                                    </li>
                                    
                                    <li>
                                        <span>05 Mar 2016</span> &raquo;
                                        <a href="/spring/2016/03/05/HTTP-Public-Key-Pinning-with-Spring-Security.html">
                                            HTTP Public Key Pinning with Spring Security</a>
                                    </li>
                                    
                                    <li>
                                        <span>06 Feb 2016</span> &raquo;
                                        <a href="/spring/2016/02/06/Generating-Spring-REST-Docs-without-using-integration-tests.html">
                                            Generating Spring REST Docs without using integration tests</a>
                                    </li>
                                    
                                    <li>
                                        <span>02 Feb 2016</span> &raquo;
                                        <a href="/domain-driven%20design/2016/02/02/A-Decade-Of-DDD-CQRS-And-Event-Sourcing.html">
                                            A decade of DDD, CQRS and Event Sourcing</a>
                                    </li>
                                    
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 col-sm-6">
                        <!-- Foot Item -->
                        <div class="foot-item">
                            <!-- Heading -->
                            <h5 class="bold"><i class="fa fa-building-o"></i>&nbsp;&nbsp;Contact Us</h5>
                            <!-- Foot Item Content -->
                            <div class="foot-item-content address">
                                <!-- Heading -->
                                <h6 class="bold"><i class="fa fa-home"></i>&nbsp;&nbsp;Ordina Belgium</h6>
                                <!-- Paragraph -->
                                <p class="add">
                                    Blarenberglaan 3B,<br/>
                                    Mechelen 2800, Belgium.</p>

                                <p class="tel"><i class="fa fa-phone"></i> Tel : + (32) - 15 29 58 58<br/>
                                    <i class="fa fa-envelope"></i> Mail : <a href="#">info@ordina.be</a><br/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Foot Ends -->
        <!-- Footer Content -->
        <p class="pull-left">Copyright &copy; 2016 - <a href="#">Ordina JWorks</a></p>
        <ul class="list-inline pull-right">
            <!-- List -->
            <li><a href="/">Home</a>
            <li><a href="/about/">About</a></li>
            <li><a href="/contact/">Contact</a></li>
        </ul>
        <!-- Clearfix -->
        <div class="clearfix"></div>
    </div>
</footer>
<!-- Footer Ends -->

<!-- Outer Ends -->

<!-- Scroll to top -->
<span class="totop"><a href="#"><i class="fa fa-angle-up bg-color"></i></a></span>

<script src="/js/jquery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/placeholders.js"></script>
<script src="/js/jquery.magnific-popup.min.js"></script>
<script src="/js/owl.carousel.min.js"></script>
<script src="/js/respond.min.js"></script>
<script src="/js/html5shiv.js"></script>
<script src="/js/main.js"></script>

<script src="/js/imagesloaded.min.js"></script>
<script src="/js/masonry.js"></script>

<!-- Javascript for this page -->
<script>
    // Initialize Masonry
    var $box = $('.blog-masonry').masonry();
    // Layout Masonry again after all images have loaded
    $box.imagesLoaded(function () {
        $box.masonry();
    });
</script>

<!-- Custom JS. Type your JS code in custom.js file -->
<script src="/js/custom.js"></script>
    
<!-- Disqus -->

    <script type="text/javascript">
        var disqus_config = function () {
            this.page.url = "https://ordina-jworks.github.io/angularjs-typescript/2016/03/16/AngularTS.html";
            this.page.identifier = "/angularjs-typescript/2016/03/16/AngularTS.html";
            this.page.title = "AngularTS: A new look @ Angular";
        };
    </script>
    <script src="//ordina-jworks.disqus.com/embed.js" async></script>


<!-- Google Analytics -->
<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
        a = s.createElement(o);
        m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-70040502-1', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>