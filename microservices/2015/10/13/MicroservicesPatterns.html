<!DOCTYPE html>
<!--suppress ALL -->
<html>
<head>
    <meta charset="utf-8">
    <title>Ordina JWorks Tech Blog</title>
    <!-- Description, Keywords and Author -->
    <meta name="description" content="Ordina JWorks Tech blog
">
    <meta name="keywords" content="Ordina,ORAJ,JWorks,Blog,Java,Javascript,DevOps">
    <meta name="author" content="Ordina Belgium">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    
    
    <!-- Facebook Open Graph -->
    <meta property="og:url" content="http://ordina-jworks.github.io/microservices/2015/10/13/MicroservicesPatterns.html" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Applying software patterns to microservices -  " />
    <meta property="og:description" content="Ordina JWorks Tech Blog" />
    <meta property="og:image" content="http://ordina-jworks.github.io/img/jax2015_logo.jpg" />
    

    <!-- Styles -->
    <!-- Bootstrap CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font awesome CSS -->
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <!-- Magnific Popup -->
    <link href="/css/magnific-popup.css" rel="stylesheet">
    <!-- Owl carousel -->
    <link href="/css/owl.carousel.css" rel="stylesheet">

    <!-- CSS for this page -->

    <!-- Base style -->
    <link href="/css/styles/style.css" rel="stylesheet">
    <!-- Skin CSS -->
    <link href="/css/styles/skin-orange.css" rel="stylesheet" id="color_theme">

    <!-- Syntax highlighting -->
    <link href="/css/syntax.css" rel="stylesheet">

    <!-- Custom CSS. Type your CSS code in custom.css file -->
    <link href="/css/custom.css" rel="stylesheet">

    <!-- Favicon -->
    <link rel="shortcut icon" href="#">

    <script src="https://use.typekit.net/gzh0mbm.js"></script>
    <script>
        try {
            Typekit.load({async: true});
        } catch (e) {
        }
    </script>
</head>

<!-- Add class "boxed" along with body for boxed layout. -->
<!-- Add "pattern-x" (1 to 5) for background patterns. -->
<!-- Add "img-x" (1 to 5) for background images. -->
<body>

<!-- Outer Starts -->
<div class="outer">
    <!-- Header two Starts -->
    <div class="header-2">

        <!-- Container -->
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <div class="logo">
                        <h1><a href="/"><img src="/img/jworks/jworks-400x400.jpg"
                                                               width="100"
                                                               height="100"/> </a></h1>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="navy">
                        <ul>
                            <li><a href="/">Home</a></li>
                            <li><a href="/about/">About Us</a></li>
                            <li><a href="/contact">Contact Us</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Header two ends -->

    <!-- Main content starts -->

    <div class="main-block">

        <!-- Page heading two starts -->

        <div class="page-heading-two">
            <div class="container">
                <h2>JWorks Tech Blogs<span style="margin-left: 10px"> Powered by Ordina</span></h2>

                <div class="clearfix"></div>
            </div>
        </div>

        <!-- Page heading two ends -->

        <div class="container tk-acumin-pro">
            <div class="post">
    <div class="row">
        <div class="col-md-12">
            <h1>Applying software patterns to microservices</h1>
            <p id="post-meta">
                Posted Oct 13, 2015 in <a href="/categories/microservices/">Microservices</a>
                
                    by 
                    
                
                        
                        <a href="/author/ken-coenen/">Ken Coenen</a>
                    
                
                
                    <br />
                    <i class="fa fa-tags"></i>
                        
                            <a href="/tags/microservices/">Microservices</a>,
                        
                            <a href="/tags/software-patterns/">Software Patterns</a>
                        
                
            </p>
        </div>
    </div>
    <br />
    <article class="post-content">
        <blockquote>
  <p>During the week of October 12th, my colleagues Andreas Evers and Tim De Bruyn and me attended JAX London 2015. After attending over a dozen talks in three days, we went home with tons of insights about DevOps, microservices, Continuous Delivery, Spring Boot and much more. This is a write-up of Chris Richardson’s talk <a href="https://jaxlondon.com/session/a-pattern-language-for-microservices/">A pattern language for microservices</a>.</p>
</blockquote>

<hr />

<p><img class="p-image float-image" alt="Chris Richardson" src="https://www.ordina.be/~/media/images/ordinabe/blogs/ken2.jpg?la=nl-nl" />
<a href="http://www.chrisrichardson.net/">Chris Richardson</a> is the author of <a href="https://www.manning.com/books/pojos-in-action">POJOs in Action</a> and is founder of the original CloudFoundry, which was later acquired by VMWare and then SpringSource. Nowadays he is constantly thinking about microservices and founded a startup that is creating a platform for aiding the development of event-driven microservices (http://eventuate.io/). He also launched http://microservices.io/, describing microservice responsibilities and commonly accepted solutions as patterns.</p>

<p style="clear:both;"></p>

<hr />

<h1 id="problems-in-software-engineering">Problems in software engineering</h1>

<p>Chris started his presentation by pointing out a few problems in software engineering. First, we have a lot of sucks/rocks discussions between developers. JavaScript vs. Java, Spring vs. JEE, Java vs. .NET, functional programming vs. object-oriënted programming, containers vs. virtual machines, … Sounds familiar? But these discussions are usually very subjective and shallow. Back in 1986, Fred Brooks already mentioned in a paper on software engineering that <strong>there is no such thing as a silver bullet</strong>. So there is no right or wrong answer to which language or framework is better, it depends on the situation.</p>

<p>A second problem is that we have <strong>a lot of new technologies</strong> these days. Typically, these technologies go through the <em>Gartner Hype Cycle</em>.</p>

<p><img class="float-image" alt="Gartner Hype Cycle" src="https://www.ordina.be/~/media/images/ordinabe/blogs/ken3v2.png?la=nl-nl" /></p>

<p style="clear:both;"></p>

<p>At first, people discover an innovative technology and everybody wants to use it, which drives the technology into the <em>Peak of Inflated Expectations</em>. Docker is a good example of a technology in this phase. Then a huge drop follows, because people didn’t really understand the technology and misused it. When we start to <strong>understand the subject</strong>, that’s when productivity on the market increases.</p>

<p>It’s clear that we need a better way to discuss and think about technology. That’s where software patterns come in.</p>

<h1 id="pattern-languages">Pattern languages</h1>

<p>Patterns help us to <strong>describe a reusable solution to a problem occurring in a particular context</strong>. The use of pattern languages is a a great way of talking about technology in general. You can see it as an advice around a topic. Describing what you want to solve and its context is much more important than the framework or tool you choose.</p>

<p>A pattern description typically contains:</p>

<ul>
  <li>Pattern name</li>
  <li>Context</li>
  <li>Problem - The issue which we try to solve</li>
  <li>Forces, which are a set of indicators why we want to use the pattern, eg. we need to do CD, run multiple instances, …</li>
  <li>Solution. What would a pattern be without a solution?</li>
  <li>Resulting context. Set of both benefits and downsides which we achieved, but also problems which we then have to solve next.</li>
</ul>

<p>Patterns can be <strong>related</strong>, they can be alternate solutions, solutions to problems that were caused by another pattern or more specific solutions to a certain problem. When you want to read more about writing and understanding patterns, you can read Martin Fowler’s blog post <a href="http://www.martinfowler.com/articles/writingPatterns.html">Writing Software Patterns</a>.</p>

<h1 id="patterns-for-the-microservices-world">Patterns for the microservices world</h1>

<p>Microservices is another one of those new technologies which are in <em>Peak of Inflated Expectations</em> phase. To help us understand the complexity of implementing these kind of systems, Chris founded http://microservices.io/ . Here you can find a collection of microservices patterns.
We can group the microservices patterns into several categories:</p>

<ol>
  <li>Core patterns</li>
  <li>Deployment patterns</li>
  <li>Discovery patterns</li>
</ol>

<p><img src="https://www.ordina.be/~/media/images/ordinabe/blogs/ken4.png?la=nl-nl" alt="Microservices patterns" title="Microservices patterns" /></p>

<p>Chris then elaborated on a few microservice pattern categories.</p>

<h1 id="core-patterns">Core patterns</h1>

<p><strong>Monolithical applications</strong> tend to be simple to develop, test, deploy and scale. You can just run multiple copies of your monolithical application. When the application is large however, you end up in <em>monolithic hell</em>:</p>

<ul>
  <li>Millions of lines of code undermine developer productivity and knowledge of the system.</li>
  <li>As one change might affect other parts of the application, there’s a fear of changing and refactoring code</li>
  <li>Developer productivity decreases, as your IDE gets slower, startup times of the server take very long, …</li>
  <li>Long-term commitment to a technology stack</li>
</ul>

<p>With X and Z axis scaling, you increase the number of application instancess or you increase server resources. Y axis scaling on the other hand means you break up your application into separate <strong>microservices</strong> which group business functionality. Some <strong>benefits</strong> to this are:</p>

<ul>
  <li>Smaller, simpler apps, which are easier to understand</li>
  <li>Less classpath hell</li>
  <li>Faster to build and deploy</li>
  <li>Improve fault isolation</li>
  <li>Eliminates the long-term commitment to a single technology stack</li>
</ul>

<p>Of course, each solution always has some <strong>drawbacks</strong>, to which fortunately solutions exist.</p>

<ul>
  <li>Added complexity of developing a distributed system</li>
  <li>We have to handle partial failures</li>
  <li>Implement business transactions that span multiple databases</li>
  <li>More complex testing: what do we do with transitive dependencies? Do we mock them?</li>
  <li>What about managing communication for cross-service development and deployment?</li>
</ul>

<h1 id="deployment-patterns">Deployment patterns</h1>

<p>Forces to consider when deploying microservices are:</p>

<ul>
  <li>Variety of languages</li>
  <li>Building and deploying must be fast</li>
  <li>Isolate service instances</li>
  <li>Deploying must be cost-effective</li>
</ul>

<p>For these, you can look at the deployment patterns.</p>

<ul>
  <li><a href="http://microservices.io/patterns/deployment/service-per-vm.html">Service per VM</a> = <a href="https://packer.io/">Packer.io</a> is a great tool for running each service
in its own VM. Downside is you got the overhead of a whole VM per
microservice. It is very expensive and the deployment itself is
relatively slow. A positive thing though is that the AWS
infrastructure is very mature and reliable.</li>
  <li><a href="http://microservices.io/patterns/deployment/service-per-container.html">Service per container</a> = Each service is in its own Docker container, which is started very quickly. A drawback is that these technologies are still very immature.</li>
</ul>

<h1 id="discovery-patterns">Discovery patterns</h1>

<p>One problem we need to address around the area of service discovery is that we need to know the IP address of the server. Simply having configuration files with the IP’s wont work anymore. On top of that, the set of API interfaces can change. And this is just a tip of the iceberg.</p>

<p>There are several patterns related to service discovery:</p>

<ul>
  <li><a href="http://microservices.io/patterns/client-side-discovery.html">Client-side discovery</a> = The client will query the service registry,
pick one from the load balancing configuration, and then use it.
Netflix’ <a href="https://github.com/Netflix/eureka">Eureka</a> and <a href="https://github.com/Netflix/ribbon">Ribbon</a> provide this functionality. Multiple
Eureka’s can be clustered.</li>
  <li><a href="http://microservices.io/patterns/server-side-discovery.html">Server-side discovery</a> = At some level it’s
the same like client-side discovery. The difference is that the
    client makes a request to the router, which then queries t he service registry. You can achieve this with eg. <a href="https://www.nginx.com/">Nginx</a> as the router and an Elastic Load Balancer from AWS. The advantage is that the client code is much simpler. Advantage is that it’s built in in some cloud/container environments, such as AWS ELB, Google’s <a href="http://kubernetes.io/">Kubernetes</a>, <a href="https://mesosphere.github.io/marathon/">Marathon</a>, …</li>
</ul>

<h1 id="conclusion">Conclusion</h1>

<p>Over the years, companies like Netflix, LinkedIn, Soundcloud and many others have applied the microservices architecture in their software landscape, with several tools and open-source libraries as a result. But deep down these tools have to tackle the same problems. Chris’ effort to describe these common problems and solutions in software patterns allows us to see the wood for the trees again. Because as I said earlier, knowing what you want to achieve is much more important than the framework or tool you choose.</p>

    </article>
    <hr />
    
                
        
        
            <blockquote>
                <p>Ken is a Principal Java Consultant at Ordina, passionate about all Java- and JavaScript related technologies. Aside from his day-to-day occupation as a consultant, he helps fellow developers as a Competence Leader for Architecture and Best Practices by giving workshops, talks and courses about the newest technologies.</p>

            </blockquote>
        
    
    
        <br /><br />
        <div id="disqus_thread"></div>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    
</div>

        </div>
    </div>
    <!-- Main content ends -->
</div>
<!-- Footer Starts -->
<footer class="footer">
    <!-- Container -->
    <div class="container">
        <!-- Foot Starts -->
        <div class="foot">
            <!-- Container -->
            <div class="container">
                <div class="row">
                    <div class="col-md-4 col-sm-6">
                        <!-- Foot Item -->
                        <div class="foot-item">
                            <!-- Heading -->
                            <h5 class="bold"><i class="fa fa-user"></i>&nbsp;&nbsp;Disclaimer</h5>

                            <p>Opinions expressed on this blog reflect the writer’s views and not the position of
                                Ordina.</p>

                            <div class="brand-bg">
                                <a target="_blank" href="https://www.facebook.com/lifeatordinabe" class="facebook"><i
                                        class="fa fa-facebook circle-3"></i></a>
                                <a target="_blank" href="https://twitter.com/lifeatordinabe"
                                   class="twitter"><i
                                        class="fa fa-twitter circle-3"></i></a>
                                <a target="_blank" href="https://www.linkedin.com/company/ordina-belgium"
                                   class="linkedin"><i
                                        class="fa fa-linkedin circle-3"></i></a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 col-sm-6">
                        <!-- Foot Item -->
                        <div class="foot-item">
                            <!-- Heading -->
                            <h5 class="bold"><i class="fa fa-comments"></i>&nbsp;&nbsp;Recent Posts</h5>
                            <!-- Foot Item Content -->
                            <div class="foot-item-content">
                                <ul class="list-unstyled">
                                    
                                    <li>
                                        <span>23 Sep 2016</span> &raquo;
                                        <a href="/monitoring/2016/09/23/Monitoring-with-Prometheus.html">
                                            Monitoring with Prometheus</a>
                                    </li>
                                    
                                    <li>
                                        <span>16 Sep 2016</span> &raquo;
                                        <a href="/testing/2016/09/16/Automation-testing-with-postman.html">
                                            API Testing with Postman and Newman</a>
                                    </li>
                                    
                                    <li>
                                        <span>12 Sep 2016</span> &raquo;
                                        <a href="/microservices/2016/09/12/Microservices-Dashboard-1.0.1.html">
                                            Microservices Dashboard</a>
                                    </li>
                                    
                                    <li>
                                        <span>09 Aug 2016</span> &raquo;
                                        <a href="/conferences/2016/08/09/s1p.html">
                                            SpringOne Platform</a>
                                    </li>
                                    
                                    <li>
                                        <span>25 Jul 2016</span> &raquo;
                                        <a href="/security/2016/07/25/Web-of-trusted-commits.html">
                                            A web of trusted commits</a>
                                    </li>
                                    
                                    <li>
                                        <span>10 Jul 2016</span> &raquo;
                                        <a href="/conference/2016/07/10/SpringIO16-DDD-Rest.html">
                                            Spring I/O 16: Bridging the worlds of DDD & REST</a>
                                    </li>
                                    
                                    <li>
                                        <span>30 Jun 2016</span> &raquo;
                                        <a href="/conference/2016/06/30/SpringIO16-Spring-Rest-Docs.html">
                                            Spring I/O 16: Test-driven documentation with Spring REST Docs</a>
                                    </li>
                                    
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 col-sm-6">
                        <!-- Foot Item -->
                        <div class="foot-item">
                            <!-- Heading -->
                            <h5 class="bold"><i class="fa fa-building-o"></i>&nbsp;&nbsp;Contact Us</h5>
                            <!-- Foot Item Content -->
                            <div class="foot-item-content address">
                                <!-- Heading -->
                                <h6 class="bold"><i class="fa fa-home"></i>&nbsp;&nbsp;Ordina Belgium</h6>
                                <!-- Paragraph -->
                                <p class="add">
                                    Blarenberglaan 3B,<br/>
                                    Mechelen 2800, Belgium.</p>

                                <p class="tel"><i class="fa fa-phone"></i> Tel : + (32) - 15 29 58 58<br/>
                                    <i class="fa fa-envelope"></i> Mail : <a href="#">info@ordina.be</a><br/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Foot Ends -->
        <!-- Footer Content -->
        <p class="pull-left">Copyright &copy; 2016 - <a href="#">Ordina JWorks</a></p>
        <ul class="list-inline pull-right">
            <!-- List -->
            <li><a href="/">Home</a>
            <li><a href="/about/">About</a></li>
            <li><a href="/contact/">Contact</a></li>
        </ul>
        <!-- Clearfix -->
        <div class="clearfix"></div>
    </div>
</footer>
<!-- Footer Ends -->

<!-- Outer Ends -->

<!-- Scroll to top -->
<span class="totop"><a href="#"><i class="fa fa-angle-up bg-color"></i></a></span>

<script src="/js/jquery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/placeholders.js"></script>
<script src="/js/jquery.magnific-popup.min.js"></script>
<script src="/js/owl.carousel.min.js"></script>
<script src="/js/respond.min.js"></script>
<script src="/js/html5shiv.js"></script>
<script src="/js/main.js"></script>

<script src="/js/imagesloaded.min.js"></script>
<script src="/js/masonry.js"></script>

<!-- Javascript for this page -->
<script>
    // Initialize Masonry
    var $box = $('.blog-masonry').masonry();
    // Layout Masonry again after all images have loaded
    $box.imagesLoaded(function () {
        $box.masonry();
    });
</script>

<!-- Custom JS. Type your JS code in custom.js file -->
<script src="/js/custom.js"></script>

<!-- Disqus -->

    <script type="text/javascript">
        var disqus_config = function () {
            this.page.url = "https://ordina-jworks.github.io/microservices/2015/10/13/MicroservicesPatterns.html";
            this.page.identifier = "/microservices/2015/10/13/MicroservicesPatterns.html";
            this.page.title = "Applying software patterns to microservices";
        };
    </script>
    <script src="//ordina-jworks.disqus.com/embed.js" async></script>


<!-- Google Analytics -->
<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
        a = s.createElement(o);
        m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-70040502-1', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>
